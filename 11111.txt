In the next.js program, I use the following code to show the titles of the posts as
well as the single post, which works correctly: (without using graphql or wp rest api, etc.)

// .env.local
NEXT_PUBLIC_API_URL=http://localhost/test.raiatec.com/wp-json/wp/v2

// api/usePosts.js


import useSWR from 'swr';

const fetcher = (url) => fetch(url).then((res) => res.json());
const API_URL = process.env.NEXT_PUBLIC_API_URL;

// Function to fetch post titles
export function usePosts() {
    const apiUrl = `${API_URL}/posts?per_page=20`;
    const {data, error} = useSWR(apiUrl, fetcher);
    return {
        posts: data,
        isLoading: !error && !data,
        isError: error,
    };
}

// Function to fetch a single post by its slug
export function usePostBySlug(slug) {
    const apiUrl = `${API_URL}/posts?slug=${slug}`;
    const {data, error} = useSWR(apiUrl, fetcher);

    return {
        post: data && data[0], // Assuming the slug is unique, so we take the first post found
        isLoading: !error && !data,
        isError: error,
    };
}


I need to fetch post titles as well as individual posts.
My question is, are my endpoints correct and does it not lead to fetching unnecessary data?
Is my code optimized?