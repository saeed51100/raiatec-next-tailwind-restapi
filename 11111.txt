In the next.js program, I use the following file to show the list of posts and also to show a single post:

// api/usePosts.js

// Function to fetch post titles
import useSWR from 'swr';
const fetcher = (url) => fetch(url).then((res) => res.json());
const API_URL = process.env.NEXT_PUBLIC_API_URL;
export function usePosts() {

    // Use the API_URL from .env.local here
    const apiUrl = `${API_URL}/posts?per_page=20`;

    const { data, error } = useSWR(apiUrl, fetcher);

    return {
        posts: data,
        isLoading: !error && !data,
        isError: error,
    };
}

// Function to fetch a single post by its slug using SWR
export function usePostBySlug(slug) {
  const apiUrl = `${API_URL}/posts?slug=${slug}`;
    console.log(apiUrl);
    const { data, error } = useSWR(apiUrl, fetcher);

    return {
        post: data && data[0], // Assuming the slug is unique, so we take the first post found
        isLoading: !error && !data,
        isError: error,
    };
}


In the first part:
const apiUrl = `${API_URL}/posts?per_page=20`;
It works fine and the first 20 posts are stored in the apiUrl variable.

but In the second part:
const apiUrl = `${API_URL}/posts?slug=${slug}`;
Run the following command:
     console.log(apiUrl);
And the output is:
http://localhost/test.raiatec.com/wp-json/wp/v2/posts?slug=undefined
and does not return any data
Where is the problem?