In the next.js program, I use the following file to retrieve the title of the
posts (pages/index.js) and also to retrieve the dynamic routing of a single post (pages/[post-slug].js):

// api/usePosts.js

// Function to fetch post titles
import useSWR from 'swr';
const fetcher = (url) => fetch(url).then((res) => res.json());
export function usePosts() {
    const apiUrl = 'http://localhost/test.raiatec.com/wp-json/wp/v2/posts?per_page=20';
    const { data, error } = useSWR(apiUrl, fetcher);

    return {
        posts: data,
        isLoading: !error && !data,
        isError: error,
    };
}

// Function to fetch a single post by its slug
export async function fetchPostBySlug(slug) {
  const apiUrl = `http://localhost/test.raiatec.com/wp-json/wp/v2/posts?slug=${slug}`;
  const res = await fetch(apiUrl);
  const post = await res.json();
  return post[0]; // Assuming the slug is unique, so we take the first post found
}


As you can see, swr library was used for the first part and fetch was used for the second part.
Is there a problem with this method?
What is the right approach for me to fetch the data of both parts correctly in this file?